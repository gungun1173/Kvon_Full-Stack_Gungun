<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS async/await</title>
</head>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,400;0,700;1,500&family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&display=swap');
    body{
        background-color: rgb(4, 4, 59);
        color: white;
        font-size: 20px;
    }
    h1{
        text-align: center;
    }
</style>
<body>
    <h1>Hacker's Terminal!!</h1>
    <div>Initializing Hacking...</div>
    <script>
        const addItem = async(item) => {
                await randomDelay();
                let div = document.createElement("div");
                div.innerHTML=item;
                document.body.append(div);
            }
            function randomDelay(){
                return new Promise((resolve,reject)=>{
                    timeout = 1 + Math.random()*6;
                    setTimeout(()=>{
                        resolve()
                    },timeout * 1000)
                })
            }

           async function main(){

                let text=["Initializing Hacking, now reading your data",
                 "Reading your files",
                  "Password Files Detected",
                   "Sending all passwords and personal file to the server",
                    "Cleaning up"]
    
                setInterval(()=>{
                    let last=document.getElementsByTagName("div");
                    last=last[last.length-1];
                    if(last.innerHTML.endsWith("...")){
                        last.innerHTML=last.innerHTML.slice(0, last.innerHTML.length-3);
                    }
                    else{
                        last.innerHTML=last.innerHTML + ".";
                    }
    
                },100)
    
            for(const item of text){
                await addItem(item);
            }
            }

            main()

    </script>
</body>
</html>